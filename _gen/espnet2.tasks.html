<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>espnet2.tasks package &mdash; ESPnet 202205 documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "tex2jax_ignore|mathjax_ignore|document", "processClass": "tex2jax_process|mathjax_process|math|output_area"}})</script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="espnet2.text package" href="espnet2.text.html" />
    <link rel="prev" title="espnet2.main_funcs package" href="espnet2.main_funcs.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> ESPnet
          </a>
              <div class="version">
                202205
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p><span class="caption-text">Tutorial:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parallelization.html">Using Job scheduling system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker.html">Docker</a></li>
</ul>
<p><span class="caption-text">ESPnet2:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../espnet2_tutorial.html">ESPnet2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../espnet2_tutorial.html#instruction-for-run-sh">Instruction for run.sh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../espnet2_training_option.html">Change the configuration for training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../espnet2_task.html">Task class and data input system for training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../espnet2_distributed.html">Distributed training</a></li>
</ul>
<p><span class="caption-text">Notebook:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notebook/asr_cli.html">Speech Recognition (Recipe)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/asr_library.html">Speech Recognition (Library)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_asr_realtime_demo.html">ESPnet2-ASR realtime demonstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_asr_transfer_learning_demo.html"><strong>Use transfer learning for ASR in ESPnet2</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_asr_transfer_learning_demo.html#Abstract">Abstract</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_asr_transfer_learning_demo.html#ESPnet-installation-(about-10-minutes-in-total)">ESPnet installation (about 10 minutes in total)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_asr_transfer_learning_demo.html#mini_an4-recipe-as-a-transfer-learning-example">mini_an4 recipe as a transfer learning example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_streaming_asr_demo.html">ESPnet2 real streaming Transformer demonstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_tts_realtime_demo.html">ESPnet2-TTS realtime demonstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_tutorial_2021_CMU_11751_18781.html">CMU 11751/18781 2021: ESPnet Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_tutorial_2021_CMU_11751_18781.html#Run-an-inference-example">Run an inference example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_tutorial_2021_CMU_11751_18781.html#Full-installation">Full installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_tutorial_2021_CMU_11751_18781.html#Run-a-recipe-example">Run a recipe example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet_se_demonstration_for_waspaa_2021.html">ESPnet Speech Enhancement Demonstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet_se_demonstration_for_waspaa_2021.html#Contents">Contents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet_se_demonstration_for_waspaa_2021.html#(1)-Tutorials-on-the-Basic-Usage">(1) Tutorials on the Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet_se_demonstration_for_waspaa_2021.html#(2)-Tutorials-on-Contributing-to-ESPNet-SE-Project">(2) Tutorials on Contributing to ESPNet-SE Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/pretrained.html">Pretrained Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/se_demo.html">ESPnet Speech Enhancement Demonstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/st_demo.html">ESPnet Speech Translation Demonstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/tts_cli.html">Text-to-Speech (Recipe)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/tts_realtime_demo.html">ESPnet real time E2E-TTS demonstration</a></li>
</ul>
<p><span class="caption-text">Package Reference:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="espnet.vc.html">espnet.vc package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet.mt.html">espnet.mt package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet.optimizer.html">espnet.optimizer package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet.lm.html">espnet.lm package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet.asr.html">espnet.asr package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet.nets.html">espnet.nets package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet.utils.html">espnet.utils package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet.tts.html">espnet.tts package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet.st.html">espnet.st package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet.scheduler.html">espnet.scheduler package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet.transform.html">espnet.transform package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet.bin.html">espnet.bin package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.hubert.html">espnet2.hubert package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.iterators.html">espnet2.iterators package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.samplers.html">espnet2.samplers package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.schedulers.html">espnet2.schedulers package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.fileio.html">espnet2.fileio package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.train.html">espnet2.train package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.enh.html">espnet2.enh package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.torch_utils.html">espnet2.torch_utils package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.mt.html">espnet2.mt package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.optimizers.html">espnet2.optimizers package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.gan_tts.html">espnet2.gan_tts package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.lm.html">espnet2.lm package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.asr.html">espnet2.asr package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.diar.html">espnet2.diar package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.utils.html">espnet2.utils package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.tts.html">espnet2.tts package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.st.html">espnet2.st package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.fst.html">espnet2.fst package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.layers.html">espnet2.layers package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.main_funcs.html">espnet2.main_funcs package</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">espnet2.tasks package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-tasks-enh">espnet2.tasks.enh</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-tasks-gan-tts">espnet2.tasks.gan_tts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-tasks-init">espnet2.tasks.__init__</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-tasks-tts">espnet2.tasks.tts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-tasks-st">espnet2.tasks.st</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-tasks-hubert">espnet2.tasks.hubert</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-tasks-diar">espnet2.tasks.diar</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-tasks-asr">espnet2.tasks.asr</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-tasks-lm">espnet2.tasks.lm</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-tasks-abs-task">espnet2.tasks.abs_task</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-tasks-enh-s2t">espnet2.tasks.enh_s2t</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-tasks-mt">espnet2.tasks.mt</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.text.html">espnet2.text package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.bin.html">espnet2.bin package</a></li>
</ul>
<p><span class="caption-text">Tool Reference:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../apis/espnet_bin.html">core tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apis/espnet2_bin.html">core tools (espnet2)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apis/utils_py.html">python utility tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apis/utils_sh.html">bash utility tools</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ESPnet</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>espnet2.tasks package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_gen/espnet2.tasks.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="espnet2-tasks-package">
<h1>espnet2.tasks package<a class="headerlink" href="#espnet2-tasks-package" title="Permalink to this headline">¶</a></h1>
<section id="espnet2-tasks-enh">
<span id="id1"></span><h2>espnet2.tasks.enh<a class="headerlink" href="#espnet2-tasks-enh" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.tasks.enh"></span><dl class="class">
<dt id="espnet2.tasks.enh.EnhancementTask">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.tasks.enh.</code><code class="sig-name descname">EnhancementTask</code><a class="reference internal" href="../_modules/espnet2/tasks/enh.html#EnhancementTask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.enh.EnhancementTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#espnet2.tasks.abs_task.AbsTask" title="espnet2.tasks.abs_task.AbsTask"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.tasks.abs_task.AbsTask</span></code></a></p>
<dl class="method">
<dt id="espnet2.tasks.enh.EnhancementTask.add_task_arguments">
<em class="property">classmethod </em><code class="sig-name descname">add_task_arguments</code><span class="sig-paren">(</span><em class="sig-param">parser: argparse.ArgumentParser</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/tasks/enh.html#EnhancementTask.add_task_arguments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.enh.EnhancementTask.add_task_arguments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.enh.EnhancementTask.build_collate_fn">
<em class="property">classmethod </em><code class="sig-name descname">build_collate_fn</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">train: bool</em><span class="sig-paren">)</span> &#x2192; Callable[[Collection[Tuple[str, Dict[str, numpy.ndarray]]]], Tuple[List[str], Dict[str, torch.Tensor]]]<a class="reference internal" href="../_modules/espnet2/tasks/enh.html#EnhancementTask.build_collate_fn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.enh.EnhancementTask.build_collate_fn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return “collate_fn”, which is a callable object and given to DataLoader.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torch.utils.data</span> <span class="kn">import</span> <span class="n">DataLoader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loader</span> <span class="o">=</span> <span class="n">DataLoader</span><span class="p">(</span><span class="n">collate_fn</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">build_collate_fn</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">train</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>In many cases, you can use our common collate_fn.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.enh.EnhancementTask.build_model">
<em class="property">classmethod </em><code class="sig-name descname">build_model</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em><span class="sig-paren">)</span> &#x2192; espnet2.enh.espnet_model.ESPnetEnhancementModel<a class="reference internal" href="../_modules/espnet2/tasks/enh.html#EnhancementTask.build_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.enh.EnhancementTask.build_model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.enh.EnhancementTask.build_preprocess_fn">
<em class="property">classmethod </em><code class="sig-name descname">build_preprocess_fn</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">train: bool</em><span class="sig-paren">)</span> &#x2192; Optional[Callable[[str, Dict[str, numpy.array]], Dict[str, numpy.ndarray]]]<a class="reference internal" href="../_modules/espnet2/tasks/enh.html#EnhancementTask.build_preprocess_fn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.enh.EnhancementTask.build_preprocess_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.enh.EnhancementTask.class_choices_list">
<code class="sig-name descname">class_choices_list</code><em class="property"> = [&lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;]</em><a class="headerlink" href="#espnet2.tasks.enh.EnhancementTask.class_choices_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.enh.EnhancementTask.num_optimizers">
<code class="sig-name descname">num_optimizers</code><em class="property"> = 1</em><a class="headerlink" href="#espnet2.tasks.enh.EnhancementTask.num_optimizers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.enh.EnhancementTask.optional_data_names">
<em class="property">classmethod </em><code class="sig-name descname">optional_data_names</code><span class="sig-paren">(</span><em class="sig-param">train: bool = True</em>, <em class="sig-param">inference: bool = False</em><span class="sig-paren">)</span> &#x2192; Tuple[str, ...]<a class="reference internal" href="../_modules/espnet2/tasks/enh.html#EnhancementTask.optional_data_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.enh.EnhancementTask.optional_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the optional names by Task</p>
<p>This function is used by
&gt;&gt;&gt; cls.check_task_requirements()
If your model is defined as follows,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">espnet2.train.abs_espnet_model</span> <span class="kn">import</span> <span class="n">AbsESPnetModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">AbsESPnetModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">opt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="k">pass</span>
</pre></div>
</div>
<p>then “optional_data_names” should be as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">optional_data_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;opt&#39;</span><span class="p">,)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.enh.EnhancementTask.required_data_names">
<em class="property">classmethod </em><code class="sig-name descname">required_data_names</code><span class="sig-paren">(</span><em class="sig-param">train: bool = True</em>, <em class="sig-param">inference: bool = False</em><span class="sig-paren">)</span> &#x2192; Tuple[str, ...]<a class="reference internal" href="../_modules/espnet2/tasks/enh.html#EnhancementTask.required_data_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.enh.EnhancementTask.required_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the required names by Task</p>
<p>This function is used by
&gt;&gt;&gt; cls.check_task_requirements()
If your model is defined as following,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">espnet2.train.abs_espnet_model</span> <span class="kn">import</span> <span class="n">AbsESPnetModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">AbsESPnetModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">opt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="k">pass</span>
</pre></div>
</div>
<p>then “required_data_names” should be as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">required_data_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">,</span> <span class="s1">&#39;output&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.enh.EnhancementTask.trainer">
<code class="sig-name descname">trainer</code><a class="headerlink" href="#espnet2.tasks.enh.EnhancementTask.trainer" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="espnet2.train.html#espnet2.train.trainer.Trainer" title="espnet2.train.trainer.Trainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.train.trainer.Trainer</span></code></a></p>
</dd></dl>

</dd></dl>

</section>
<section id="espnet2-tasks-gan-tts">
<span id="id2"></span><h2>espnet2.tasks.gan_tts<a class="headerlink" href="#espnet2-tasks-gan-tts" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.tasks.gan_tts"></span><p>GAN-based text-to-speech task.</p>
<dl class="class">
<dt id="espnet2.tasks.gan_tts.GANTTSTask">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.tasks.gan_tts.</code><code class="sig-name descname">GANTTSTask</code><a class="reference internal" href="../_modules/espnet2/tasks/gan_tts.html#GANTTSTask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.gan_tts.GANTTSTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#espnet2.tasks.abs_task.AbsTask" title="espnet2.tasks.abs_task.AbsTask"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.tasks.abs_task.AbsTask</span></code></a></p>
<p>GAN-based text-to-speech task.</p>
<dl class="method">
<dt id="espnet2.tasks.gan_tts.GANTTSTask.add_task_arguments">
<em class="property">classmethod </em><code class="sig-name descname">add_task_arguments</code><span class="sig-paren">(</span><em class="sig-param">parser: argparse.ArgumentParser</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/tasks/gan_tts.html#GANTTSTask.add_task_arguments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.gan_tts.GANTTSTask.add_task_arguments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.gan_tts.GANTTSTask.build_collate_fn">
<em class="property">classmethod </em><code class="sig-name descname">build_collate_fn</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">train: bool</em><span class="sig-paren">)</span> &#x2192; Callable[[Collection[Tuple[str, Dict[str, numpy.ndarray]]]], Tuple[List[str], Dict[str, torch.Tensor]]]<a class="reference internal" href="../_modules/espnet2/tasks/gan_tts.html#GANTTSTask.build_collate_fn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.gan_tts.GANTTSTask.build_collate_fn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return “collate_fn”, which is a callable object and given to DataLoader.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torch.utils.data</span> <span class="kn">import</span> <span class="n">DataLoader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loader</span> <span class="o">=</span> <span class="n">DataLoader</span><span class="p">(</span><span class="n">collate_fn</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">build_collate_fn</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">train</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>In many cases, you can use our common collate_fn.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.gan_tts.GANTTSTask.build_model">
<em class="property">classmethod </em><code class="sig-name descname">build_model</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em><span class="sig-paren">)</span> &#x2192; espnet2.gan_tts.espnet_model.ESPnetGANTTSModel<a class="reference internal" href="../_modules/espnet2/tasks/gan_tts.html#GANTTSTask.build_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.gan_tts.GANTTSTask.build_model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.gan_tts.GANTTSTask.build_optimizers">
<em class="property">classmethod </em><code class="sig-name descname">build_optimizers</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">model: espnet2.gan_tts.espnet_model.ESPnetGANTTSModel</em><span class="sig-paren">)</span> &#x2192; List[torch.optim.optimizer.Optimizer]<a class="reference internal" href="../_modules/espnet2/tasks/gan_tts.html#GANTTSTask.build_optimizers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.gan_tts.GANTTSTask.build_optimizers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.gan_tts.GANTTSTask.build_preprocess_fn">
<em class="property">classmethod </em><code class="sig-name descname">build_preprocess_fn</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">train: bool</em><span class="sig-paren">)</span> &#x2192; Optional[Callable[[str, Dict[str, numpy.array]], Dict[str, numpy.ndarray]]]<a class="reference internal" href="../_modules/espnet2/tasks/gan_tts.html#GANTTSTask.build_preprocess_fn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.gan_tts.GANTTSTask.build_preprocess_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.gan_tts.GANTTSTask.class_choices_list">
<code class="sig-name descname">class_choices_list</code><em class="property"> = [&lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;]</em><a class="headerlink" href="#espnet2.tasks.gan_tts.GANTTSTask.class_choices_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.gan_tts.GANTTSTask.num_optimizers">
<code class="sig-name descname">num_optimizers</code><em class="property"> = 2</em><a class="headerlink" href="#espnet2.tasks.gan_tts.GANTTSTask.num_optimizers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.gan_tts.GANTTSTask.optional_data_names">
<em class="property">classmethod </em><code class="sig-name descname">optional_data_names</code><span class="sig-paren">(</span><em class="sig-param">train: bool = True</em>, <em class="sig-param">inference: bool = False</em><span class="sig-paren">)</span> &#x2192; Tuple[str, ...]<a class="reference internal" href="../_modules/espnet2/tasks/gan_tts.html#GANTTSTask.optional_data_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.gan_tts.GANTTSTask.optional_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the optional names by Task</p>
<p>This function is used by
&gt;&gt;&gt; cls.check_task_requirements()
If your model is defined as follows,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">espnet2.train.abs_espnet_model</span> <span class="kn">import</span> <span class="n">AbsESPnetModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">AbsESPnetModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">opt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="k">pass</span>
</pre></div>
</div>
<p>then “optional_data_names” should be as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">optional_data_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;opt&#39;</span><span class="p">,)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.gan_tts.GANTTSTask.required_data_names">
<em class="property">classmethod </em><code class="sig-name descname">required_data_names</code><span class="sig-paren">(</span><em class="sig-param">train: bool = True</em>, <em class="sig-param">inference: bool = False</em><span class="sig-paren">)</span> &#x2192; Tuple[str, ...]<a class="reference internal" href="../_modules/espnet2/tasks/gan_tts.html#GANTTSTask.required_data_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.gan_tts.GANTTSTask.required_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the required names by Task</p>
<p>This function is used by
&gt;&gt;&gt; cls.check_task_requirements()
If your model is defined as following,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">espnet2.train.abs_espnet_model</span> <span class="kn">import</span> <span class="n">AbsESPnetModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">AbsESPnetModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">opt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="k">pass</span>
</pre></div>
</div>
<p>then “required_data_names” should be as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">required_data_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">,</span> <span class="s1">&#39;output&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.gan_tts.GANTTSTask.trainer">
<code class="sig-name descname">trainer</code><a class="headerlink" href="#espnet2.tasks.gan_tts.GANTTSTask.trainer" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="espnet2.train.html#espnet2.train.gan_trainer.GANTrainer" title="espnet2.train.gan_trainer.GANTrainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.train.gan_trainer.GANTrainer</span></code></a></p>
</dd></dl>

</dd></dl>

</section>
<section id="espnet2-tasks-init">
<span id="id3"></span><h2>espnet2.tasks.__init__<a class="headerlink" href="#espnet2-tasks-init" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.tasks.__init__"></span></section>
<section id="espnet2-tasks-tts">
<span id="id4"></span><h2>espnet2.tasks.tts<a class="headerlink" href="#espnet2-tasks-tts" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.tasks.tts"></span><p>Text-to-speech task.</p>
<dl class="class">
<dt id="espnet2.tasks.tts.TTSTask">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.tasks.tts.</code><code class="sig-name descname">TTSTask</code><a class="reference internal" href="../_modules/espnet2/tasks/tts.html#TTSTask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.tts.TTSTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#espnet2.tasks.abs_task.AbsTask" title="espnet2.tasks.abs_task.AbsTask"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.tasks.abs_task.AbsTask</span></code></a></p>
<dl class="method">
<dt id="espnet2.tasks.tts.TTSTask.add_task_arguments">
<em class="property">classmethod </em><code class="sig-name descname">add_task_arguments</code><span class="sig-paren">(</span><em class="sig-param">parser: argparse.ArgumentParser</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/tasks/tts.html#TTSTask.add_task_arguments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.tts.TTSTask.add_task_arguments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.tts.TTSTask.build_collate_fn">
<em class="property">classmethod </em><code class="sig-name descname">build_collate_fn</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">train: bool</em><span class="sig-paren">)</span> &#x2192; Callable[[Collection[Tuple[str, Dict[str, numpy.ndarray]]]], Tuple[List[str], Dict[str, torch.Tensor]]]<a class="reference internal" href="../_modules/espnet2/tasks/tts.html#TTSTask.build_collate_fn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.tts.TTSTask.build_collate_fn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return “collate_fn”, which is a callable object and given to DataLoader.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torch.utils.data</span> <span class="kn">import</span> <span class="n">DataLoader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loader</span> <span class="o">=</span> <span class="n">DataLoader</span><span class="p">(</span><span class="n">collate_fn</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">build_collate_fn</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">train</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>In many cases, you can use our common collate_fn.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.tts.TTSTask.build_model">
<em class="property">classmethod </em><code class="sig-name descname">build_model</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em><span class="sig-paren">)</span> &#x2192; espnet2.tts.espnet_model.ESPnetTTSModel<a class="reference internal" href="../_modules/espnet2/tasks/tts.html#TTSTask.build_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.tts.TTSTask.build_model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.tts.TTSTask.build_preprocess_fn">
<em class="property">classmethod </em><code class="sig-name descname">build_preprocess_fn</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">train: bool</em><span class="sig-paren">)</span> &#x2192; Optional[Callable[[str, Dict[str, numpy.array]], Dict[str, numpy.ndarray]]]<a class="reference internal" href="../_modules/espnet2/tasks/tts.html#TTSTask.build_preprocess_fn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.tts.TTSTask.build_preprocess_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.tts.TTSTask.build_vocoder_from_file">
<em class="property">classmethod </em><code class="sig-name descname">build_vocoder_from_file</code><span class="sig-paren">(</span><em class="sig-param">vocoder_config_file: Union[pathlib.Path</em>, <em class="sig-param">str] = None</em>, <em class="sig-param">vocoder_file: Union[pathlib.Path</em>, <em class="sig-param">str] = None</em>, <em class="sig-param">model: Optional[espnet2.tts.espnet_model.ESPnetTTSModel] = None</em>, <em class="sig-param">device: str = 'cpu'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/tasks/tts.html#TTSTask.build_vocoder_from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.tts.TTSTask.build_vocoder_from_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.tts.TTSTask.class_choices_list">
<code class="sig-name descname">class_choices_list</code><em class="property"> = [&lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;]</em><a class="headerlink" href="#espnet2.tasks.tts.TTSTask.class_choices_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.tts.TTSTask.num_optimizers">
<code class="sig-name descname">num_optimizers</code><em class="property"> = 1</em><a class="headerlink" href="#espnet2.tasks.tts.TTSTask.num_optimizers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.tts.TTSTask.optional_data_names">
<em class="property">classmethod </em><code class="sig-name descname">optional_data_names</code><span class="sig-paren">(</span><em class="sig-param">train: bool = True</em>, <em class="sig-param">inference: bool = False</em><span class="sig-paren">)</span> &#x2192; Tuple[str, ...]<a class="reference internal" href="../_modules/espnet2/tasks/tts.html#TTSTask.optional_data_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.tts.TTSTask.optional_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the optional names by Task</p>
<p>This function is used by
&gt;&gt;&gt; cls.check_task_requirements()
If your model is defined as follows,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">espnet2.train.abs_espnet_model</span> <span class="kn">import</span> <span class="n">AbsESPnetModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">AbsESPnetModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">opt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="k">pass</span>
</pre></div>
</div>
<p>then “optional_data_names” should be as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">optional_data_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;opt&#39;</span><span class="p">,)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.tts.TTSTask.required_data_names">
<em class="property">classmethod </em><code class="sig-name descname">required_data_names</code><span class="sig-paren">(</span><em class="sig-param">train: bool = True</em>, <em class="sig-param">inference: bool = False</em><span class="sig-paren">)</span> &#x2192; Tuple[str, ...]<a class="reference internal" href="../_modules/espnet2/tasks/tts.html#TTSTask.required_data_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.tts.TTSTask.required_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the required names by Task</p>
<p>This function is used by
&gt;&gt;&gt; cls.check_task_requirements()
If your model is defined as following,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">espnet2.train.abs_espnet_model</span> <span class="kn">import</span> <span class="n">AbsESPnetModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">AbsESPnetModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">opt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="k">pass</span>
</pre></div>
</div>
<p>then “required_data_names” should be as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">required_data_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">,</span> <span class="s1">&#39;output&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.tts.TTSTask.trainer">
<code class="sig-name descname">trainer</code><a class="headerlink" href="#espnet2.tasks.tts.TTSTask.trainer" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="espnet2.train.html#espnet2.train.trainer.Trainer" title="espnet2.train.trainer.Trainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.train.trainer.Trainer</span></code></a></p>
</dd></dl>

</dd></dl>

</section>
<section id="espnet2-tasks-st">
<span id="id5"></span><h2>espnet2.tasks.st<a class="headerlink" href="#espnet2-tasks-st" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.tasks.st"></span><dl class="class">
<dt id="espnet2.tasks.st.STTask">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.tasks.st.</code><code class="sig-name descname">STTask</code><a class="reference internal" href="../_modules/espnet2/tasks/st.html#STTask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.st.STTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#espnet2.tasks.abs_task.AbsTask" title="espnet2.tasks.abs_task.AbsTask"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.tasks.abs_task.AbsTask</span></code></a></p>
<dl class="method">
<dt id="espnet2.tasks.st.STTask.add_task_arguments">
<em class="property">classmethod </em><code class="sig-name descname">add_task_arguments</code><span class="sig-paren">(</span><em class="sig-param">parser: argparse.ArgumentParser</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/tasks/st.html#STTask.add_task_arguments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.st.STTask.add_task_arguments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.st.STTask.build_collate_fn">
<em class="property">classmethod </em><code class="sig-name descname">build_collate_fn</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">train: bool</em><span class="sig-paren">)</span> &#x2192; Callable[[Collection[Tuple[str, Dict[str, numpy.ndarray]]]], Tuple[List[str], Dict[str, torch.Tensor]]]<a class="reference internal" href="../_modules/espnet2/tasks/st.html#STTask.build_collate_fn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.st.STTask.build_collate_fn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return “collate_fn”, which is a callable object and given to DataLoader.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torch.utils.data</span> <span class="kn">import</span> <span class="n">DataLoader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loader</span> <span class="o">=</span> <span class="n">DataLoader</span><span class="p">(</span><span class="n">collate_fn</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">build_collate_fn</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">train</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>In many cases, you can use our common collate_fn.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.st.STTask.build_model">
<em class="property">classmethod </em><code class="sig-name descname">build_model</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em><span class="sig-paren">)</span> &#x2192; espnet2.st.espnet_model.ESPnetSTModel<a class="reference internal" href="../_modules/espnet2/tasks/st.html#STTask.build_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.st.STTask.build_model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.st.STTask.build_preprocess_fn">
<em class="property">classmethod </em><code class="sig-name descname">build_preprocess_fn</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">train: bool</em><span class="sig-paren">)</span> &#x2192; Optional[Callable[[str, Dict[str, numpy.array]], Dict[str, numpy.ndarray]]]<a class="reference internal" href="../_modules/espnet2/tasks/st.html#STTask.build_preprocess_fn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.st.STTask.build_preprocess_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.st.STTask.class_choices_list">
<code class="sig-name descname">class_choices_list</code><em class="property"> = [&lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;]</em><a class="headerlink" href="#espnet2.tasks.st.STTask.class_choices_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.st.STTask.num_optimizers">
<code class="sig-name descname">num_optimizers</code><em class="property"> = 1</em><a class="headerlink" href="#espnet2.tasks.st.STTask.num_optimizers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.st.STTask.optional_data_names">
<em class="property">classmethod </em><code class="sig-name descname">optional_data_names</code><span class="sig-paren">(</span><em class="sig-param">train: bool = True</em>, <em class="sig-param">inference: bool = False</em><span class="sig-paren">)</span> &#x2192; Tuple[str, ...]<a class="reference internal" href="../_modules/espnet2/tasks/st.html#STTask.optional_data_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.st.STTask.optional_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the optional names by Task</p>
<p>This function is used by
&gt;&gt;&gt; cls.check_task_requirements()
If your model is defined as follows,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">espnet2.train.abs_espnet_model</span> <span class="kn">import</span> <span class="n">AbsESPnetModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">AbsESPnetModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">opt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="k">pass</span>
</pre></div>
</div>
<p>then “optional_data_names” should be as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">optional_data_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;opt&#39;</span><span class="p">,)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.st.STTask.required_data_names">
<em class="property">classmethod </em><code class="sig-name descname">required_data_names</code><span class="sig-paren">(</span><em class="sig-param">train: bool = True</em>, <em class="sig-param">inference: bool = False</em><span class="sig-paren">)</span> &#x2192; Tuple[str, ...]<a class="reference internal" href="../_modules/espnet2/tasks/st.html#STTask.required_data_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.st.STTask.required_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the required names by Task</p>
<p>This function is used by
&gt;&gt;&gt; cls.check_task_requirements()
If your model is defined as following,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">espnet2.train.abs_espnet_model</span> <span class="kn">import</span> <span class="n">AbsESPnetModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">AbsESPnetModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">opt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="k">pass</span>
</pre></div>
</div>
<p>then “required_data_names” should be as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">required_data_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">,</span> <span class="s1">&#39;output&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.st.STTask.trainer">
<code class="sig-name descname">trainer</code><a class="headerlink" href="#espnet2.tasks.st.STTask.trainer" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="espnet2.train.html#espnet2.train.trainer.Trainer" title="espnet2.train.trainer.Trainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.train.trainer.Trainer</span></code></a></p>
</dd></dl>

</dd></dl>

</section>
<section id="espnet2-tasks-hubert">
<span id="id6"></span><h2>espnet2.tasks.hubert<a class="headerlink" href="#espnet2-tasks-hubert" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.tasks.hubert"></span><dl class="class">
<dt id="espnet2.tasks.hubert.HubertTask">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.tasks.hubert.</code><code class="sig-name descname">HubertTask</code><a class="reference internal" href="../_modules/espnet2/tasks/hubert.html#HubertTask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.hubert.HubertTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#espnet2.tasks.abs_task.AbsTask" title="espnet2.tasks.abs_task.AbsTask"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.tasks.abs_task.AbsTask</span></code></a></p>
<dl class="method">
<dt id="espnet2.tasks.hubert.HubertTask.add_task_arguments">
<em class="property">classmethod </em><code class="sig-name descname">add_task_arguments</code><span class="sig-paren">(</span><em class="sig-param">parser: argparse.ArgumentParser</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/tasks/hubert.html#HubertTask.add_task_arguments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.hubert.HubertTask.add_task_arguments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.hubert.HubertTask.build_collate_fn">
<em class="property">classmethod </em><code class="sig-name descname">build_collate_fn</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">train: bool</em><span class="sig-paren">)</span> &#x2192; Callable[[Collection[Tuple[str, Dict[str, numpy.ndarray]]]], Tuple[List[str], Dict[str, torch.Tensor]]]<a class="reference internal" href="../_modules/espnet2/tasks/hubert.html#HubertTask.build_collate_fn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.hubert.HubertTask.build_collate_fn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return “collate_fn”, which is a callable object and given to DataLoader.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torch.utils.data</span> <span class="kn">import</span> <span class="n">DataLoader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loader</span> <span class="o">=</span> <span class="n">DataLoader</span><span class="p">(</span><span class="n">collate_fn</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">build_collate_fn</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">train</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>In many cases, you can use our common collate_fn.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.hubert.HubertTask.build_model">
<em class="property">classmethod </em><code class="sig-name descname">build_model</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em><span class="sig-paren">)</span> &#x2192; espnet2.hubert.espnet_model.HubertPretrainModel<a class="reference internal" href="../_modules/espnet2/tasks/hubert.html#HubertTask.build_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.hubert.HubertTask.build_model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.hubert.HubertTask.build_preprocess_fn">
<em class="property">classmethod </em><code class="sig-name descname">build_preprocess_fn</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">train: bool</em><span class="sig-paren">)</span> &#x2192; Optional[Callable[[str, Dict[str, numpy.array]], Dict[str, numpy.ndarray]]]<a class="reference internal" href="../_modules/espnet2/tasks/hubert.html#HubertTask.build_preprocess_fn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.hubert.HubertTask.build_preprocess_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.hubert.HubertTask.class_choices_list">
<code class="sig-name descname">class_choices_list</code><em class="property"> = [&lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;]</em><a class="headerlink" href="#espnet2.tasks.hubert.HubertTask.class_choices_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.hubert.HubertTask.num_optimizers">
<code class="sig-name descname">num_optimizers</code><em class="property"> = 1</em><a class="headerlink" href="#espnet2.tasks.hubert.HubertTask.num_optimizers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.hubert.HubertTask.optional_data_names">
<em class="property">classmethod </em><code class="sig-name descname">optional_data_names</code><span class="sig-paren">(</span><em class="sig-param">train: bool = True</em>, <em class="sig-param">inference: bool = False</em><span class="sig-paren">)</span> &#x2192; Tuple[str, ...]<a class="reference internal" href="../_modules/espnet2/tasks/hubert.html#HubertTask.optional_data_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.hubert.HubertTask.optional_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the optional names by Task</p>
<p>This function is used by
&gt;&gt;&gt; cls.check_task_requirements()
If your model is defined as follows,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">espnet2.train.abs_espnet_model</span> <span class="kn">import</span> <span class="n">AbsESPnetModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">AbsESPnetModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">opt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="k">pass</span>
</pre></div>
</div>
<p>then “optional_data_names” should be as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">optional_data_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;opt&#39;</span><span class="p">,)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.hubert.HubertTask.required_data_names">
<em class="property">classmethod </em><code class="sig-name descname">required_data_names</code><span class="sig-paren">(</span><em class="sig-param">train: bool = True</em>, <em class="sig-param">inference: bool = False</em><span class="sig-paren">)</span> &#x2192; Tuple[str, ...]<a class="reference internal" href="../_modules/espnet2/tasks/hubert.html#HubertTask.required_data_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.hubert.HubertTask.required_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the required names by Task</p>
<p>This function is used by
&gt;&gt;&gt; cls.check_task_requirements()
If your model is defined as following,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">espnet2.train.abs_espnet_model</span> <span class="kn">import</span> <span class="n">AbsESPnetModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">AbsESPnetModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">opt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="k">pass</span>
</pre></div>
</div>
<p>then “required_data_names” should be as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">required_data_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">,</span> <span class="s1">&#39;output&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.hubert.HubertTask.trainer">
<code class="sig-name descname">trainer</code><a class="headerlink" href="#espnet2.tasks.hubert.HubertTask.trainer" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="espnet2.train.html#espnet2.train.trainer.Trainer" title="espnet2.train.trainer.Trainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.train.trainer.Trainer</span></code></a></p>
</dd></dl>

</dd></dl>

</section>
<section id="espnet2-tasks-diar">
<span id="id7"></span><h2>espnet2.tasks.diar<a class="headerlink" href="#espnet2-tasks-diar" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.tasks.diar"></span><dl class="class">
<dt id="espnet2.tasks.diar.DiarizationTask">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.tasks.diar.</code><code class="sig-name descname">DiarizationTask</code><a class="reference internal" href="../_modules/espnet2/tasks/diar.html#DiarizationTask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.diar.DiarizationTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#espnet2.tasks.abs_task.AbsTask" title="espnet2.tasks.abs_task.AbsTask"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.tasks.abs_task.AbsTask</span></code></a></p>
<dl class="method">
<dt id="espnet2.tasks.diar.DiarizationTask.add_task_arguments">
<em class="property">classmethod </em><code class="sig-name descname">add_task_arguments</code><span class="sig-paren">(</span><em class="sig-param">parser: argparse.ArgumentParser</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/tasks/diar.html#DiarizationTask.add_task_arguments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.diar.DiarizationTask.add_task_arguments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.diar.DiarizationTask.build_collate_fn">
<em class="property">classmethod </em><code class="sig-name descname">build_collate_fn</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">train: bool</em><span class="sig-paren">)</span> &#x2192; Callable[[Collection[Tuple[str, Dict[str, numpy.ndarray]]]], Tuple[List[str], Dict[str, torch.Tensor]]]<a class="reference internal" href="../_modules/espnet2/tasks/diar.html#DiarizationTask.build_collate_fn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.diar.DiarizationTask.build_collate_fn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return “collate_fn”, which is a callable object and given to DataLoader.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torch.utils.data</span> <span class="kn">import</span> <span class="n">DataLoader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loader</span> <span class="o">=</span> <span class="n">DataLoader</span><span class="p">(</span><span class="n">collate_fn</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">build_collate_fn</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">train</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>In many cases, you can use our common collate_fn.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.diar.DiarizationTask.build_model">
<em class="property">classmethod </em><code class="sig-name descname">build_model</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em><span class="sig-paren">)</span> &#x2192; espnet2.diar.espnet_model.ESPnetDiarizationModel<a class="reference internal" href="../_modules/espnet2/tasks/diar.html#DiarizationTask.build_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.diar.DiarizationTask.build_model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.diar.DiarizationTask.build_preprocess_fn">
<em class="property">classmethod </em><code class="sig-name descname">build_preprocess_fn</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">train: bool</em><span class="sig-paren">)</span> &#x2192; Optional[Callable[[str, Dict[str, numpy.array]], Dict[str, numpy.ndarray]]]<a class="reference internal" href="../_modules/espnet2/tasks/diar.html#DiarizationTask.build_preprocess_fn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.diar.DiarizationTask.build_preprocess_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.diar.DiarizationTask.class_choices_list">
<code class="sig-name descname">class_choices_list</code><em class="property"> = [&lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;]</em><a class="headerlink" href="#espnet2.tasks.diar.DiarizationTask.class_choices_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.diar.DiarizationTask.num_optimizers">
<code class="sig-name descname">num_optimizers</code><em class="property"> = 1</em><a class="headerlink" href="#espnet2.tasks.diar.DiarizationTask.num_optimizers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.diar.DiarizationTask.optional_data_names">
<em class="property">classmethod </em><code class="sig-name descname">optional_data_names</code><span class="sig-paren">(</span><em class="sig-param">train: bool = True</em>, <em class="sig-param">inference: bool = False</em><span class="sig-paren">)</span> &#x2192; Tuple[str, ...]<a class="reference internal" href="../_modules/espnet2/tasks/diar.html#DiarizationTask.optional_data_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.diar.DiarizationTask.optional_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the optional names by Task</p>
<p>This function is used by
&gt;&gt;&gt; cls.check_task_requirements()
If your model is defined as follows,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">espnet2.train.abs_espnet_model</span> <span class="kn">import</span> <span class="n">AbsESPnetModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">AbsESPnetModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">opt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="k">pass</span>
</pre></div>
</div>
<p>then “optional_data_names” should be as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">optional_data_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;opt&#39;</span><span class="p">,)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.diar.DiarizationTask.required_data_names">
<em class="property">classmethod </em><code class="sig-name descname">required_data_names</code><span class="sig-paren">(</span><em class="sig-param">train: bool = True</em>, <em class="sig-param">inference: bool = False</em><span class="sig-paren">)</span> &#x2192; Tuple[str, ...]<a class="reference internal" href="../_modules/espnet2/tasks/diar.html#DiarizationTask.required_data_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.diar.DiarizationTask.required_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the required names by Task</p>
<p>This function is used by
&gt;&gt;&gt; cls.check_task_requirements()
If your model is defined as following,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">espnet2.train.abs_espnet_model</span> <span class="kn">import</span> <span class="n">AbsESPnetModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">AbsESPnetModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">opt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="k">pass</span>
</pre></div>
</div>
<p>then “required_data_names” should be as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">required_data_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">,</span> <span class="s1">&#39;output&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.diar.DiarizationTask.trainer">
<code class="sig-name descname">trainer</code><a class="headerlink" href="#espnet2.tasks.diar.DiarizationTask.trainer" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="espnet2.train.html#espnet2.train.trainer.Trainer" title="espnet2.train.trainer.Trainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.train.trainer.Trainer</span></code></a></p>
</dd></dl>

</dd></dl>

</section>
<section id="espnet2-tasks-asr">
<span id="id8"></span><h2>espnet2.tasks.asr<a class="headerlink" href="#espnet2-tasks-asr" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.tasks.asr"></span><dl class="class">
<dt id="espnet2.tasks.asr.ASRTask">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.tasks.asr.</code><code class="sig-name descname">ASRTask</code><a class="reference internal" href="../_modules/espnet2/tasks/asr.html#ASRTask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.asr.ASRTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#espnet2.tasks.abs_task.AbsTask" title="espnet2.tasks.abs_task.AbsTask"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.tasks.abs_task.AbsTask</span></code></a></p>
<dl class="method">
<dt id="espnet2.tasks.asr.ASRTask.add_task_arguments">
<em class="property">classmethod </em><code class="sig-name descname">add_task_arguments</code><span class="sig-paren">(</span><em class="sig-param">parser: argparse.ArgumentParser</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/tasks/asr.html#ASRTask.add_task_arguments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.asr.ASRTask.add_task_arguments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.asr.ASRTask.build_collate_fn">
<em class="property">classmethod </em><code class="sig-name descname">build_collate_fn</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">train: bool</em><span class="sig-paren">)</span> &#x2192; Callable[[Collection[Tuple[str, Dict[str, numpy.ndarray]]]], Tuple[List[str], Dict[str, torch.Tensor]]]<a class="reference internal" href="../_modules/espnet2/tasks/asr.html#ASRTask.build_collate_fn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.asr.ASRTask.build_collate_fn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return “collate_fn”, which is a callable object and given to DataLoader.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torch.utils.data</span> <span class="kn">import</span> <span class="n">DataLoader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loader</span> <span class="o">=</span> <span class="n">DataLoader</span><span class="p">(</span><span class="n">collate_fn</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">build_collate_fn</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">train</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>In many cases, you can use our common collate_fn.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.asr.ASRTask.build_model">
<em class="property">classmethod </em><code class="sig-name descname">build_model</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em><span class="sig-paren">)</span> &#x2192; espnet2.asr.espnet_model.ESPnetASRModel<a class="reference internal" href="../_modules/espnet2/tasks/asr.html#ASRTask.build_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.asr.ASRTask.build_model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.asr.ASRTask.build_preprocess_fn">
<em class="property">classmethod </em><code class="sig-name descname">build_preprocess_fn</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">train: bool</em><span class="sig-paren">)</span> &#x2192; Optional[Callable[[str, Dict[str, numpy.array]], Dict[str, numpy.ndarray]]]<a class="reference internal" href="../_modules/espnet2/tasks/asr.html#ASRTask.build_preprocess_fn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.asr.ASRTask.build_preprocess_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.asr.ASRTask.class_choices_list">
<code class="sig-name descname">class_choices_list</code><em class="property"> = [&lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;]</em><a class="headerlink" href="#espnet2.tasks.asr.ASRTask.class_choices_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.asr.ASRTask.num_optimizers">
<code class="sig-name descname">num_optimizers</code><em class="property"> = 1</em><a class="headerlink" href="#espnet2.tasks.asr.ASRTask.num_optimizers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.asr.ASRTask.optional_data_names">
<em class="property">classmethod </em><code class="sig-name descname">optional_data_names</code><span class="sig-paren">(</span><em class="sig-param">train: bool = True</em>, <em class="sig-param">inference: bool = False</em><span class="sig-paren">)</span> &#x2192; Tuple[str, ...]<a class="reference internal" href="../_modules/espnet2/tasks/asr.html#ASRTask.optional_data_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.asr.ASRTask.optional_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the optional names by Task</p>
<p>This function is used by
&gt;&gt;&gt; cls.check_task_requirements()
If your model is defined as follows,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">espnet2.train.abs_espnet_model</span> <span class="kn">import</span> <span class="n">AbsESPnetModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">AbsESPnetModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">opt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="k">pass</span>
</pre></div>
</div>
<p>then “optional_data_names” should be as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">optional_data_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;opt&#39;</span><span class="p">,)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.asr.ASRTask.required_data_names">
<em class="property">classmethod </em><code class="sig-name descname">required_data_names</code><span class="sig-paren">(</span><em class="sig-param">train: bool = True</em>, <em class="sig-param">inference: bool = False</em><span class="sig-paren">)</span> &#x2192; Tuple[str, ...]<a class="reference internal" href="../_modules/espnet2/tasks/asr.html#ASRTask.required_data_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.asr.ASRTask.required_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the required names by Task</p>
<p>This function is used by
&gt;&gt;&gt; cls.check_task_requirements()
If your model is defined as following,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">espnet2.train.abs_espnet_model</span> <span class="kn">import</span> <span class="n">AbsESPnetModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">AbsESPnetModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">opt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="k">pass</span>
</pre></div>
</div>
<p>then “required_data_names” should be as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">required_data_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">,</span> <span class="s1">&#39;output&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.asr.ASRTask.trainer">
<code class="sig-name descname">trainer</code><a class="headerlink" href="#espnet2.tasks.asr.ASRTask.trainer" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="espnet2.train.html#espnet2.train.trainer.Trainer" title="espnet2.train.trainer.Trainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.train.trainer.Trainer</span></code></a></p>
</dd></dl>

</dd></dl>

</section>
<section id="espnet2-tasks-lm">
<span id="id9"></span><h2>espnet2.tasks.lm<a class="headerlink" href="#espnet2-tasks-lm" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.tasks.lm"></span><dl class="class">
<dt id="espnet2.tasks.lm.LMTask">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.tasks.lm.</code><code class="sig-name descname">LMTask</code><a class="reference internal" href="../_modules/espnet2/tasks/lm.html#LMTask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.lm.LMTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#espnet2.tasks.abs_task.AbsTask" title="espnet2.tasks.abs_task.AbsTask"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.tasks.abs_task.AbsTask</span></code></a></p>
<dl class="method">
<dt id="espnet2.tasks.lm.LMTask.add_task_arguments">
<em class="property">classmethod </em><code class="sig-name descname">add_task_arguments</code><span class="sig-paren">(</span><em class="sig-param">parser: argparse.ArgumentParser</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/tasks/lm.html#LMTask.add_task_arguments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.lm.LMTask.add_task_arguments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.lm.LMTask.build_collate_fn">
<em class="property">classmethod </em><code class="sig-name descname">build_collate_fn</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">train: bool</em><span class="sig-paren">)</span> &#x2192; Callable[[Collection[Tuple[str, Dict[str, numpy.ndarray]]]], Tuple[List[str], Dict[str, torch.Tensor]]]<a class="reference internal" href="../_modules/espnet2/tasks/lm.html#LMTask.build_collate_fn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.lm.LMTask.build_collate_fn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return “collate_fn”, which is a callable object and given to DataLoader.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torch.utils.data</span> <span class="kn">import</span> <span class="n">DataLoader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loader</span> <span class="o">=</span> <span class="n">DataLoader</span><span class="p">(</span><span class="n">collate_fn</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">build_collate_fn</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">train</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>In many cases, you can use our common collate_fn.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.lm.LMTask.build_model">
<em class="property">classmethod </em><code class="sig-name descname">build_model</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em><span class="sig-paren">)</span> &#x2192; espnet2.lm.espnet_model.ESPnetLanguageModel<a class="reference internal" href="../_modules/espnet2/tasks/lm.html#LMTask.build_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.lm.LMTask.build_model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.lm.LMTask.build_preprocess_fn">
<em class="property">classmethod </em><code class="sig-name descname">build_preprocess_fn</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">train: bool</em><span class="sig-paren">)</span> &#x2192; Optional[Callable[[str, Dict[str, numpy.array]], Dict[str, numpy.ndarray]]]<a class="reference internal" href="../_modules/espnet2/tasks/lm.html#LMTask.build_preprocess_fn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.lm.LMTask.build_preprocess_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.lm.LMTask.class_choices_list">
<code class="sig-name descname">class_choices_list</code><em class="property"> = [&lt;espnet2.train.class_choices.ClassChoices object&gt;]</em><a class="headerlink" href="#espnet2.tasks.lm.LMTask.class_choices_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.lm.LMTask.num_optimizers">
<code class="sig-name descname">num_optimizers</code><em class="property"> = 1</em><a class="headerlink" href="#espnet2.tasks.lm.LMTask.num_optimizers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.lm.LMTask.optional_data_names">
<em class="property">classmethod </em><code class="sig-name descname">optional_data_names</code><span class="sig-paren">(</span><em class="sig-param">train: bool = True</em>, <em class="sig-param">inference: bool = False</em><span class="sig-paren">)</span> &#x2192; Tuple[str, ...]<a class="reference internal" href="../_modules/espnet2/tasks/lm.html#LMTask.optional_data_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.lm.LMTask.optional_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the optional names by Task</p>
<p>This function is used by
&gt;&gt;&gt; cls.check_task_requirements()
If your model is defined as follows,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">espnet2.train.abs_espnet_model</span> <span class="kn">import</span> <span class="n">AbsESPnetModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">AbsESPnetModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">opt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="k">pass</span>
</pre></div>
</div>
<p>then “optional_data_names” should be as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">optional_data_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;opt&#39;</span><span class="p">,)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.lm.LMTask.required_data_names">
<em class="property">classmethod </em><code class="sig-name descname">required_data_names</code><span class="sig-paren">(</span><em class="sig-param">train: bool = True</em>, <em class="sig-param">inference: bool = False</em><span class="sig-paren">)</span> &#x2192; Tuple[str, ...]<a class="reference internal" href="../_modules/espnet2/tasks/lm.html#LMTask.required_data_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.lm.LMTask.required_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the required names by Task</p>
<p>This function is used by
&gt;&gt;&gt; cls.check_task_requirements()
If your model is defined as following,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">espnet2.train.abs_espnet_model</span> <span class="kn">import</span> <span class="n">AbsESPnetModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">AbsESPnetModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">opt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="k">pass</span>
</pre></div>
</div>
<p>then “required_data_names” should be as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">required_data_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">,</span> <span class="s1">&#39;output&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.lm.LMTask.trainer">
<code class="sig-name descname">trainer</code><a class="headerlink" href="#espnet2.tasks.lm.LMTask.trainer" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="espnet2.train.html#espnet2.train.trainer.Trainer" title="espnet2.train.trainer.Trainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.train.trainer.Trainer</span></code></a></p>
</dd></dl>

</dd></dl>

</section>
<section id="espnet2-tasks-abs-task">
<span id="id10"></span><h2>espnet2.tasks.abs_task<a class="headerlink" href="#espnet2-tasks-abs-task" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.tasks.abs_task"></span><p>Abstract task module.</p>
<dl class="class">
<dt id="espnet2.tasks.abs_task.AbsTask">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.tasks.abs_task.</code><code class="sig-name descname">AbsTask</code><a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#AbsTask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<dl class="method">
<dt id="espnet2.tasks.abs_task.AbsTask.add_task_arguments">
<em class="property">abstract classmethod </em><code class="sig-name descname">add_task_arguments</code><span class="sig-paren">(</span><em class="sig-param">parser: argparse.ArgumentParser</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#AbsTask.add_task_arguments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.add_task_arguments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.abs_task.AbsTask.build_chunk_iter_factory">
<em class="property">classmethod </em><code class="sig-name descname">build_chunk_iter_factory</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">iter_options: espnet2.tasks.abs_task.IteratorOptions</em>, <em class="sig-param">mode: str</em><span class="sig-paren">)</span> &#x2192; espnet2.iterators.abs_iter_factory.AbsIterFactory<a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#AbsTask.build_chunk_iter_factory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.build_chunk_iter_factory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.abs_task.AbsTask.build_collate_fn">
<em class="property">abstract classmethod </em><code class="sig-name descname">build_collate_fn</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">train: bool</em><span class="sig-paren">)</span> &#x2192; Callable[[Sequence[Dict[str, numpy.ndarray]]], Dict[str, torch.Tensor]]<a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#AbsTask.build_collate_fn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.build_collate_fn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return “collate_fn”, which is a callable object and given to DataLoader.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torch.utils.data</span> <span class="kn">import</span> <span class="n">DataLoader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loader</span> <span class="o">=</span> <span class="n">DataLoader</span><span class="p">(</span><span class="n">collate_fn</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">build_collate_fn</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">train</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>In many cases, you can use our common collate_fn.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.abs_task.AbsTask.build_iter_factory">
<em class="property">classmethod </em><code class="sig-name descname">build_iter_factory</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">distributed_option: espnet2.train.distributed_utils.DistributedOption</em>, <em class="sig-param">mode: str</em>, <em class="sig-param">kwargs: dict = None</em><span class="sig-paren">)</span> &#x2192; espnet2.iterators.abs_iter_factory.AbsIterFactory<a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#AbsTask.build_iter_factory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.build_iter_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a factory object of mini-batch iterator.</p>
<p>This object is invoked at every epochs to build the iterator for each epoch
as following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">iter_factory</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">build_iter_factory</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">epoch</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_epoch</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">keys</span><span class="p">,</span> <span class="n">batch</span> <span class="ow">in</span> <span class="n">iter_fatory</span><span class="o">.</span><span class="n">build_iter</span><span class="p">(</span><span class="n">epoch</span><span class="p">):</span>
<span class="gp">... </span>        <span class="n">model</span><span class="p">(</span><span class="o">**</span><span class="n">batch</span><span class="p">)</span>
</pre></div>
</div>
<p>The mini-batches for each epochs are fully controlled by this class.
Note that the random seed used for shuffling is decided as “seed + epoch” and
the generated mini-batches can be reproduces when resuming.</p>
<p>Note that the definition of “epoch” doesn’t always indicate
to run out of the whole training corpus.
“–num_iters_per_epoch” option restricts the number of iterations for each epoch
and the rest of samples for the originally epoch are left for the next epoch.
e.g. If The number of mini-batches equals to 4, the following two are same:</p>
<ul class="simple">
<li><p>1 epoch without “–num_iters_per_epoch”</p></li>
<li><p>4 epoch with “–num_iters_per_epoch” == 4</p></li>
</ul>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.abs_task.AbsTask.build_iter_options">
<em class="property">classmethod </em><code class="sig-name descname">build_iter_options</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">distributed_option: espnet2.train.distributed_utils.DistributedOption</em>, <em class="sig-param">mode: str</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#AbsTask.build_iter_options"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.build_iter_options" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.abs_task.AbsTask.build_model">
<em class="property">abstract classmethod </em><code class="sig-name descname">build_model</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em><span class="sig-paren">)</span> &#x2192; espnet2.train.abs_espnet_model.AbsESPnetModel<a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#AbsTask.build_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.build_model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.abs_task.AbsTask.build_model_from_file">
<em class="property">classmethod </em><code class="sig-name descname">build_model_from_file</code><span class="sig-paren">(</span><em class="sig-param">config_file: Union[pathlib.Path</em>, <em class="sig-param">str] = None</em>, <em class="sig-param">model_file: Union[pathlib.Path</em>, <em class="sig-param">str] = None</em>, <em class="sig-param">device: str = 'cpu'</em><span class="sig-paren">)</span> &#x2192; Tuple[espnet2.train.abs_espnet_model.AbsESPnetModel, argparse.Namespace]<a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#AbsTask.build_model_from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.build_model_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Build model from the files.</p>
<p>This method is used for inference or fine-tuning.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config_file</strong> – The yaml file saved when training.</p></li>
<li><p><strong>model_file</strong> – The model file saved when training.</p></li>
<li><p><strong>device</strong> – Device type, “cpu”, “cuda”, or “cuda:N”.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.abs_task.AbsTask.build_multiple_iter_factory">
<em class="property">classmethod </em><code class="sig-name descname">build_multiple_iter_factory</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">distributed_option: espnet2.train.distributed_utils.DistributedOption</em>, <em class="sig-param">mode: str</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#AbsTask.build_multiple_iter_factory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.build_multiple_iter_factory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.abs_task.AbsTask.build_optimizers">
<em class="property">classmethod </em><code class="sig-name descname">build_optimizers</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">model: torch.nn.modules.module.Module</em><span class="sig-paren">)</span> &#x2192; List[torch.optim.optimizer.Optimizer]<a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#AbsTask.build_optimizers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.build_optimizers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.abs_task.AbsTask.build_preprocess_fn">
<em class="property">abstract classmethod </em><code class="sig-name descname">build_preprocess_fn</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">train: bool</em><span class="sig-paren">)</span> &#x2192; Optional[Callable[[str, Dict[str, numpy.array]], Dict[str, numpy.ndarray]]]<a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#AbsTask.build_preprocess_fn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.build_preprocess_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.abs_task.AbsTask.build_sequence_iter_factory">
<em class="property">classmethod </em><code class="sig-name descname">build_sequence_iter_factory</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">iter_options: espnet2.tasks.abs_task.IteratorOptions</em>, <em class="sig-param">mode: str</em><span class="sig-paren">)</span> &#x2192; espnet2.iterators.abs_iter_factory.AbsIterFactory<a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#AbsTask.build_sequence_iter_factory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.build_sequence_iter_factory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.abs_task.AbsTask.build_streaming_iterator">
<em class="property">classmethod </em><code class="sig-name descname">build_streaming_iterator</code><span class="sig-paren">(</span><em class="sig-param">data_path_and_name_and_type</em>, <em class="sig-param">preprocess_fn</em>, <em class="sig-param">collate_fn</em>, <em class="sig-param">key_file: str = None</em>, <em class="sig-param">batch_size: int = 1</em>, <em class="sig-param">dtype: str = &lt;class 'numpy.float32'&gt;</em>, <em class="sig-param">num_workers: int = 1</em>, <em class="sig-param">allow_variable_data_keys: bool = False</em>, <em class="sig-param">ngpu: int = 0</em>, <em class="sig-param">inference: bool = False</em><span class="sig-paren">)</span> &#x2192; torch.utils.data.dataloader.DataLoader<a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#AbsTask.build_streaming_iterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.build_streaming_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Build DataLoader using iterable dataset</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.abs_task.AbsTask.build_task_iter_factory">
<em class="property">classmethod </em><code class="sig-name descname">build_task_iter_factory</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">iter_options: espnet2.tasks.abs_task.IteratorOptions</em>, <em class="sig-param">mode: str</em><span class="sig-paren">)</span> &#x2192; espnet2.iterators.abs_iter_factory.AbsIterFactory<a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#AbsTask.build_task_iter_factory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.build_task_iter_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Build task specific iterator factory</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">YourTask</span><span class="p">(</span><span class="n">AbsTask</span><span class="p">):</span>
<span class="gp">... </span><span class="nd">@classmethod</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">add_task_arguments</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parser</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">parser</span><span class="o">.</span><span class="n">set_defaults</span><span class="p">(</span><span class="n">iterator_type</span><span class="o">=</span><span class="s2">&quot;task&quot;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span><span class="nd">@classmethod</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">build_task_iter_factory</span><span class="p">(</span>
<span class="gp">... </span>    <span class="bp">cls</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">args</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">Namespace</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">iter_options</span><span class="p">:</span> <span class="n">IteratorOptions</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">mode</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="gp">... </span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">FooIterFactory</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span><span class="nd">@classmethod</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">build_iter_options</span><span class="p">(</span>
<span class="go">....    args: argparse.Namespace,</span>
<span class="gp">... </span>    <span class="n">distributed_option</span><span class="p">:</span> <span class="n">DistributedOption</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">mode</span><span class="p">:</span> <span class="nb">str</span>
<span class="gp">... </span><span class="p">):</span>
<span class="gp">... </span>    <span class="c1"># if you need to customize options object</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.abs_task.AbsTask.check_required_command_args">
<em class="property">classmethod </em><code class="sig-name descname">check_required_command_args</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#AbsTask.check_required_command_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.check_required_command_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.abs_task.AbsTask.check_task_requirements">
<em class="property">classmethod </em><code class="sig-name descname">check_task_requirements</code><span class="sig-paren">(</span><em class="sig-param">dataset: Union[espnet2.train.dataset.AbsDataset, espnet2.train.iterable_dataset.IterableESPnetDataset], allow_variable_data_keys: bool, train: bool, inference: bool = False</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#AbsTask.check_task_requirements"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.check_task_requirements" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the dataset satisfy the requirement of current Task</p>
</dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.abs_task.AbsTask.class_choices_list">
<code class="sig-name descname">class_choices_list</code><em class="property"> = []</em><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.class_choices_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.abs_task.AbsTask.exclude_opts">
<em class="property">classmethod </em><code class="sig-name descname">exclude_opts</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Tuple[str, ...]<a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#AbsTask.exclude_opts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.exclude_opts" title="Permalink to this definition">¶</a></dt>
<dd><p>The options not to be shown by –print_config</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.abs_task.AbsTask.get_default_config">
<em class="property">classmethod </em><code class="sig-name descname">get_default_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Dict[str, Any]<a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#AbsTask.get_default_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.get_default_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the configuration as dict.</p>
<p>This method is used by print_config()</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.abs_task.AbsTask.get_parser">
<em class="property">classmethod </em><code class="sig-name descname">get_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; espnet2.utils.config_argparse.ArgumentParser<a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#AbsTask.get_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.get_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.abs_task.AbsTask.main">
<em class="property">classmethod </em><code class="sig-name descname">main</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace = None</em>, <em class="sig-param">cmd: Sequence[str] = None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#AbsTask.main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.abs_task.AbsTask.main_worker">
<em class="property">classmethod </em><code class="sig-name descname">main_worker</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#AbsTask.main_worker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.main_worker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.abs_task.AbsTask.num_optimizers">
<code class="sig-name descname">num_optimizers</code><em class="property"> = 1</em><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.num_optimizers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.abs_task.AbsTask.optional_data_names">
<em class="property">abstract classmethod </em><code class="sig-name descname">optional_data_names</code><span class="sig-paren">(</span><em class="sig-param">train: bool = True</em>, <em class="sig-param">inference: bool = False</em><span class="sig-paren">)</span> &#x2192; Tuple[str, ...]<a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#AbsTask.optional_data_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.optional_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the optional names by Task</p>
<p>This function is used by
&gt;&gt;&gt; cls.check_task_requirements()
If your model is defined as follows,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">espnet2.train.abs_espnet_model</span> <span class="kn">import</span> <span class="n">AbsESPnetModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">AbsESPnetModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">opt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="k">pass</span>
</pre></div>
</div>
<p>then “optional_data_names” should be as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">optional_data_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;opt&#39;</span><span class="p">,)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.abs_task.AbsTask.print_config">
<em class="property">classmethod </em><code class="sig-name descname">print_config</code><span class="sig-paren">(</span><em class="sig-param">file=&lt;_io.TextIOWrapper name='&lt;stdout&gt;' mode='w' encoding='utf-8'&gt;</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#AbsTask.print_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.print_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.abs_task.AbsTask.required_data_names">
<em class="property">abstract classmethod </em><code class="sig-name descname">required_data_names</code><span class="sig-paren">(</span><em class="sig-param">train: bool = True</em>, <em class="sig-param">inference: bool = False</em><span class="sig-paren">)</span> &#x2192; Tuple[str, ...]<a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#AbsTask.required_data_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.required_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the required names by Task</p>
<p>This function is used by
&gt;&gt;&gt; cls.check_task_requirements()
If your model is defined as following,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">espnet2.train.abs_espnet_model</span> <span class="kn">import</span> <span class="n">AbsESPnetModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">AbsESPnetModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">opt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="k">pass</span>
</pre></div>
</div>
<p>then “required_data_names” should be as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">required_data_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">,</span> <span class="s1">&#39;output&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.abs_task.AbsTask.trainer">
<code class="sig-name descname">trainer</code><a class="headerlink" href="#espnet2.tasks.abs_task.AbsTask.trainer" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="espnet2.train.html#espnet2.train.trainer.Trainer" title="espnet2.train.trainer.Trainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.train.trainer.Trainer</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="espnet2.tasks.abs_task.IteratorOptions">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.tasks.abs_task.</code><code class="sig-name descname">IteratorOptions</code><span class="sig-paren">(</span><em class="sig-param">preprocess_fn: &lt;built-in function callable&gt;, collate_fn: &lt;built-in function callable&gt;, data_path_and_name_and_type: list, shape_files: list, batch_size: int, batch_bins: int, batch_type: str, max_cache_size: float, max_cache_fd: int, distributed: bool, num_batches: Union[int, NoneType], num_iters_per_epoch: Union[int, NoneType], train: bool</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/tasks/abs_task.html#IteratorOptions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.abs_task.IteratorOptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

</section>
<section id="espnet2-tasks-enh-s2t">
<span id="id11"></span><h2>espnet2.tasks.enh_s2t<a class="headerlink" href="#espnet2-tasks-enh-s2t" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.tasks.enh_s2t"></span><dl class="class">
<dt id="espnet2.tasks.enh_s2t.EnhS2TTask">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.tasks.enh_s2t.</code><code class="sig-name descname">EnhS2TTask</code><a class="reference internal" href="../_modules/espnet2/tasks/enh_s2t.html#EnhS2TTask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.enh_s2t.EnhS2TTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#espnet2.tasks.abs_task.AbsTask" title="espnet2.tasks.abs_task.AbsTask"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.tasks.abs_task.AbsTask</span></code></a></p>
<dl class="method">
<dt id="espnet2.tasks.enh_s2t.EnhS2TTask.add_task_arguments">
<em class="property">classmethod </em><code class="sig-name descname">add_task_arguments</code><span class="sig-paren">(</span><em class="sig-param">parser: argparse.ArgumentParser</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/tasks/enh_s2t.html#EnhS2TTask.add_task_arguments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.enh_s2t.EnhS2TTask.add_task_arguments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.enh_s2t.EnhS2TTask.build_collate_fn">
<em class="property">classmethod </em><code class="sig-name descname">build_collate_fn</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">train: bool</em><span class="sig-paren">)</span> &#x2192; Callable[[Collection[Tuple[str, Dict[str, numpy.ndarray]]]], Tuple[List[str], Dict[str, torch.Tensor]]]<a class="reference internal" href="../_modules/espnet2/tasks/enh_s2t.html#EnhS2TTask.build_collate_fn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.enh_s2t.EnhS2TTask.build_collate_fn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return “collate_fn”, which is a callable object and given to DataLoader.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torch.utils.data</span> <span class="kn">import</span> <span class="n">DataLoader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loader</span> <span class="o">=</span> <span class="n">DataLoader</span><span class="p">(</span><span class="n">collate_fn</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">build_collate_fn</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">train</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>In many cases, you can use our common collate_fn.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.enh_s2t.EnhS2TTask.build_model">
<em class="property">classmethod </em><code class="sig-name descname">build_model</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em><span class="sig-paren">)</span> &#x2192; espnet2.enh.espnet_enh_s2t_model.ESPnetEnhS2TModel<a class="reference internal" href="../_modules/espnet2/tasks/enh_s2t.html#EnhS2TTask.build_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.enh_s2t.EnhS2TTask.build_model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.enh_s2t.EnhS2TTask.build_preprocess_fn">
<em class="property">classmethod </em><code class="sig-name descname">build_preprocess_fn</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">train: bool</em><span class="sig-paren">)</span> &#x2192; Optional[Callable[[str, Dict[str, numpy.array]], Dict[str, numpy.ndarray]]]<a class="reference internal" href="../_modules/espnet2/tasks/enh_s2t.html#EnhS2TTask.build_preprocess_fn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.enh_s2t.EnhS2TTask.build_preprocess_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.enh_s2t.EnhS2TTask.class_choices_list">
<code class="sig-name descname">class_choices_list</code><em class="property"> = [&lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;]</em><a class="headerlink" href="#espnet2.tasks.enh_s2t.EnhS2TTask.class_choices_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.enh_s2t.EnhS2TTask.num_optimizers">
<code class="sig-name descname">num_optimizers</code><em class="property"> = 1</em><a class="headerlink" href="#espnet2.tasks.enh_s2t.EnhS2TTask.num_optimizers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.enh_s2t.EnhS2TTask.optional_data_names">
<em class="property">classmethod </em><code class="sig-name descname">optional_data_names</code><span class="sig-paren">(</span><em class="sig-param">train: bool = True</em>, <em class="sig-param">inference: bool = False</em><span class="sig-paren">)</span> &#x2192; Tuple[str, ...]<a class="reference internal" href="../_modules/espnet2/tasks/enh_s2t.html#EnhS2TTask.optional_data_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.enh_s2t.EnhS2TTask.optional_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the optional names by Task</p>
<p>This function is used by
&gt;&gt;&gt; cls.check_task_requirements()
If your model is defined as follows,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">espnet2.train.abs_espnet_model</span> <span class="kn">import</span> <span class="n">AbsESPnetModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">AbsESPnetModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">opt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="k">pass</span>
</pre></div>
</div>
<p>then “optional_data_names” should be as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">optional_data_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;opt&#39;</span><span class="p">,)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.enh_s2t.EnhS2TTask.required_data_names">
<em class="property">classmethod </em><code class="sig-name descname">required_data_names</code><span class="sig-paren">(</span><em class="sig-param">train: bool = True</em>, <em class="sig-param">inference: bool = False</em><span class="sig-paren">)</span> &#x2192; Tuple[str, ...]<a class="reference internal" href="../_modules/espnet2/tasks/enh_s2t.html#EnhS2TTask.required_data_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.enh_s2t.EnhS2TTask.required_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the required names by Task</p>
<p>This function is used by
&gt;&gt;&gt; cls.check_task_requirements()
If your model is defined as following,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">espnet2.train.abs_espnet_model</span> <span class="kn">import</span> <span class="n">AbsESPnetModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">AbsESPnetModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">opt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="k">pass</span>
</pre></div>
</div>
<p>then “required_data_names” should be as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">required_data_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">,</span> <span class="s1">&#39;output&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.enh_s2t.EnhS2TTask.trainer">
<code class="sig-name descname">trainer</code><a class="headerlink" href="#espnet2.tasks.enh_s2t.EnhS2TTask.trainer" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="espnet2.train.html#espnet2.train.trainer.Trainer" title="espnet2.train.trainer.Trainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.train.trainer.Trainer</span></code></a></p>
</dd></dl>

</dd></dl>

</section>
<section id="espnet2-tasks-mt">
<span id="id12"></span><h2>espnet2.tasks.mt<a class="headerlink" href="#espnet2-tasks-mt" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.tasks.mt"></span><dl class="class">
<dt id="espnet2.tasks.mt.MTTask">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.tasks.mt.</code><code class="sig-name descname">MTTask</code><a class="reference internal" href="../_modules/espnet2/tasks/mt.html#MTTask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.mt.MTTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#espnet2.tasks.abs_task.AbsTask" title="espnet2.tasks.abs_task.AbsTask"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.tasks.abs_task.AbsTask</span></code></a></p>
<dl class="method">
<dt id="espnet2.tasks.mt.MTTask.add_task_arguments">
<em class="property">classmethod </em><code class="sig-name descname">add_task_arguments</code><span class="sig-paren">(</span><em class="sig-param">parser: argparse.ArgumentParser</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/tasks/mt.html#MTTask.add_task_arguments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.mt.MTTask.add_task_arguments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.mt.MTTask.build_collate_fn">
<em class="property">classmethod </em><code class="sig-name descname">build_collate_fn</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">train: bool</em><span class="sig-paren">)</span> &#x2192; Callable[[Collection[Tuple[str, Dict[str, numpy.ndarray]]]], Tuple[List[str], Dict[str, torch.Tensor]]]<a class="reference internal" href="../_modules/espnet2/tasks/mt.html#MTTask.build_collate_fn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.mt.MTTask.build_collate_fn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return “collate_fn”, which is a callable object and given to DataLoader.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">torch.utils.data</span> <span class="kn">import</span> <span class="n">DataLoader</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loader</span> <span class="o">=</span> <span class="n">DataLoader</span><span class="p">(</span><span class="n">collate_fn</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">build_collate_fn</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">train</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>In many cases, you can use our common collate_fn.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.mt.MTTask.build_model">
<em class="property">classmethod </em><code class="sig-name descname">build_model</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em><span class="sig-paren">)</span> &#x2192; espnet2.mt.espnet_model.ESPnetMTModel<a class="reference internal" href="../_modules/espnet2/tasks/mt.html#MTTask.build_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.mt.MTTask.build_model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.mt.MTTask.build_preprocess_fn">
<em class="property">classmethod </em><code class="sig-name descname">build_preprocess_fn</code><span class="sig-paren">(</span><em class="sig-param">args: argparse.Namespace</em>, <em class="sig-param">train: bool</em><span class="sig-paren">)</span> &#x2192; Optional[Callable[[str, Dict[str, numpy.array]], Dict[str, numpy.ndarray]]]<a class="reference internal" href="../_modules/espnet2/tasks/mt.html#MTTask.build_preprocess_fn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.mt.MTTask.build_preprocess_fn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.mt.MTTask.class_choices_list">
<code class="sig-name descname">class_choices_list</code><em class="property"> = [&lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;, &lt;espnet2.train.class_choices.ClassChoices object&gt;]</em><a class="headerlink" href="#espnet2.tasks.mt.MTTask.class_choices_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.mt.MTTask.num_optimizers">
<code class="sig-name descname">num_optimizers</code><em class="property"> = 1</em><a class="headerlink" href="#espnet2.tasks.mt.MTTask.num_optimizers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="espnet2.tasks.mt.MTTask.optional_data_names">
<em class="property">classmethod </em><code class="sig-name descname">optional_data_names</code><span class="sig-paren">(</span><em class="sig-param">train: bool = True</em>, <em class="sig-param">inference: bool = False</em><span class="sig-paren">)</span> &#x2192; Tuple[str, ...]<a class="reference internal" href="../_modules/espnet2/tasks/mt.html#MTTask.optional_data_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.mt.MTTask.optional_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the optional names by Task</p>
<p>This function is used by
&gt;&gt;&gt; cls.check_task_requirements()
If your model is defined as follows,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">espnet2.train.abs_espnet_model</span> <span class="kn">import</span> <span class="n">AbsESPnetModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">AbsESPnetModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">opt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="k">pass</span>
</pre></div>
</div>
<p>then “optional_data_names” should be as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">optional_data_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;opt&#39;</span><span class="p">,)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="espnet2.tasks.mt.MTTask.required_data_names">
<em class="property">classmethod </em><code class="sig-name descname">required_data_names</code><span class="sig-paren">(</span><em class="sig-param">train: bool = True</em>, <em class="sig-param">inference: bool = False</em><span class="sig-paren">)</span> &#x2192; Tuple[str, ...]<a class="reference internal" href="../_modules/espnet2/tasks/mt.html#MTTask.required_data_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.tasks.mt.MTTask.required_data_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the required names by Task</p>
<p>This function is used by
&gt;&gt;&gt; cls.check_task_requirements()
If your model is defined as following,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">espnet2.train.abs_espnet_model</span> <span class="kn">import</span> <span class="n">AbsESPnetModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">AbsESPnetModel</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">opt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="k">pass</span>
</pre></div>
</div>
<p>then “required_data_names” should be as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">required_data_names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">,</span> <span class="s1">&#39;output&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="espnet2.tasks.mt.MTTask.trainer">
<code class="sig-name descname">trainer</code><a class="headerlink" href="#espnet2.tasks.mt.MTTask.trainer" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="espnet2.train.html#espnet2.train.trainer.Trainer" title="espnet2.train.trainer.Trainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.train.trainer.Trainer</span></code></a></p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="espnet2.main_funcs.html" class="btn btn-neutral float-left" title="espnet2.main_funcs package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="espnet2.text.html" class="btn btn-neutral float-right" title="espnet2.text package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017, Shinji Watanabe.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>